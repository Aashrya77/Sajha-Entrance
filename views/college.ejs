<%- include('base/header') -%>

<style>
  /* College Details 3-Column Layout Styling */
  .college-details-wrapper {
    background-color: #f8f9fa;
    padding-top: 40px;
    padding-bottom: 50px;
    margin-top: 60px;
  }

  .college-sidebar-nav {
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    padding: 0;
    overflow: hidden;
    position: sticky;
    top: 80px;
    z-index: 100;
  }

  .college-nav-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .college-nav-item {
    border-bottom: 1px solid #e9ecef;
  }

  .college-nav-item:last-child {
    border-bottom: none;
  }

  .college-nav-link {
    display: block;
    padding: 12px 16px;
    color: #333;
    text-decoration: none;
    font-weight: 500;
    font-size: 14px;
    transition: all 0.3s ease;
    border-left: 4px solid transparent;
    position: relative;
  }

  .college-nav-link:hover {
    background-color: #f0f0f0;
    color: #ff9800;
    border-left-color: #ff9800;
  }

  .college-nav-link.active {
    background-color: #fff3e0;
    color: #ff9800;
    border-left-color: #ff9800;
    font-weight: 600;
  }

  .college-nav-link i {
    margin-right: 10px;
    width: 16px;
    text-align: center;
  }

  .nav-badge {
    display: inline-block;
    background-color: #ff9800;
    color: white;
    border-radius: 12px;
    padding: 2px 8px;
    font-size: 12px;
    font-weight: 700;
    margin-left: 8px;
    min-width: 20px;
    text-align: center;
  }

  /* Main Content Area */
  .college-main-content {
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    padding: 30px;
  }

  .college-section {
    margin-bottom: 40px;
    scroll-margin-top: 100px;
  }

  .college-section:last-child {
    margin-bottom: 0;
  }

  .college-section-header {
    margin-bottom: 25px;
  }

  .college-section-title {
    font-size: 24px;
    font-weight: 700;
    color: #1a1a1a;
    margin: 0;
    padding-bottom: 12px;
    border-bottom: 3px solid #ff9800;
    display: inline-block;
  }

  .college-admission-notice {
    background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
    border-left: 5px solid #ff9800;
    border-radius: 6px;
    padding: 20px;
    margin-bottom: 30px;
    display: flex;
    align-items: center;
    gap: 20px;
    box-shadow: 0 2px 8px rgba(255, 152, 0, 0.15);
  }

  .college-admission-icon {
    font-size: 32px;
    color: #ff9800;
    flex-shrink: 0;
  }

  .college-admission-text-section {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 6px;
  }

  .college-admission-text {
    font-weight: 600;
    color: #333;
    font-size: 15px;
  }

  .college-admission-deadline {
    font-size: 13px;
    color: #666;
    display: flex;
    align-items: center;
    gap: 6px;
  }

  .college-btn-apply {
    background-color: #ff9800;
    color: white;
    padding: 10px 24px;
    border-radius: 6px;
    text-decoration: none;
    font-weight: 600;
    font-size: 14px;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
    white-space: nowrap;
    flex-shrink: 0;
  }

  .college-btn-apply:hover {
    background-color: #f57c00;
    text-decoration: none;
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(255, 152, 0, 0.3);
  }

  .college-overview-content {
    color: #555;
    line-height: 1.8;
    font-size: 15px;
  }

  .college-overview-content p {
    margin-bottom: 16px;
  }

  .college-overview-content p:last-child {
    margin-bottom: 0;
  }

  /* Courses Grid */
  .college-courses-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 20px;
  }

  .college-course-card {
    background: white;
    border-radius: 8px;
    border: 1px solid #e9ecef;
    overflow: hidden;
    transition: all 0.3s ease;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
    text-decoration: none;
    color: inherit;
    display: flex;
    flex-direction: column;
  }

  .college-course-card:hover {
    box-shadow: 0 6px 16px rgba(255, 152, 0, 0.15);
    transform: translateY(-4px);
    border-color: #ff9800;
  }

  .college-course-card-content {
    padding: 20px;
    flex: 1;
    display: flex;
    flex-direction: column;
  }

  .college-course-title {
    font-size: 16px;
    font-weight: 700;
    color: #1a1a1a;
    margin: 0 0 12px 0;
    line-height: 1.4;
  }

  .college-course-detail {
    font-size: 13px;
    color: #666;
    margin-bottom: 10px;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .college-course-detail i {
    color: #ff9800;
    width: 16px;
    text-align: center;
  }

  .college-course-detail:last-child {
    margin-bottom: 0;
  }

  .college-course-card-footer {
    padding: 16px 20px;
    border-top: 1px solid #e9ecef;
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: #fafafa;
  }

  .college-course-action {
    color: #ff9800;
    font-weight: 600;
    font-size: 14px;
    display: flex;
    align-items: center;
    gap: 6px;
  }

  .college-course-card:hover .college-course-action {
    gap: 10px;
  }

  /* Right Sidebar - Contact Info */
  .college-contact-sidebar {
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    padding: 25px;
    margin-bottom: 20px;
  }

  .college-contact-title {
    font-size: 18px;
    font-weight: 700;
    color: #1a1a1a;
    margin: 0 0 20px 0;
    padding-bottom: 12px;
    border-bottom: 3px solid #ff9800;
    display: inline-block;
  }

  .college-contact-item {
    margin-bottom: 24px;
    display: flex;
    gap: 16px;
  }

  .college-contact-item:last-child {
    margin-bottom: 0;
  }

  .college-contact-icon {
    font-size: 20px;
    color: #ff9800;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: #fff3e0;
    border-radius: 6px;
    flex-shrink: 0;
  }

  .college-contact-content {
    flex: 1;
  }

  .college-contact-label {
    font-size: 12px;
    font-weight: 700;
    color: #999;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 4px;
  }

  .college-contact-value {
    font-size: 14px;
    font-weight: 500;
    color: #333;
    word-break: break-word;
    line-height: 1.4;
  }

  .college-contact-value a {
    color: #ff9800;
    text-decoration: none;
    transition: color 0.3s ease;
  }

  .college-contact-value a:hover {
    color: #f57c00;
    text-decoration: underline;
  }

  /* Chairman Preview Card */
  .college-chairman-preview {
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    padding: 20px;
    margin-top: 20px;
    text-align: center;
  }

  .college-chairman-preview-title {
    font-size: 14px;
    font-weight: 700;
    color: #999;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 15px;
  }

  .college-chairman-image-container {
    margin-bottom: 15px;
  }

  .college-chairman-image {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid #ff9800;
    box-shadow: 0 4px 12px rgba(255, 152, 0, 0.2);
    display: block;
    margin: 0 auto;
  }

  .college-chairman-preview-name {
    font-size: 14px;
    font-weight: 700;
    color: #333;
    margin-bottom: 8px;
  }

  .college-chairman-preview-message {
    font-size: 13px;
    color: #666;
    line-height: 1.5;
    max-height: 80px;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
  }

  /* Location Map Section */
  .college-location-map {
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    margin-bottom: 20px;
  }

  .college-location-map iframe {
    width: 100%;
    height: 350px;
    border: none;
  }

  /* Gallery Section */
  .college-gallery-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 16px;
  }

  .college-gallery-item {
    position: relative;
    border-radius: 8px;
    overflow: hidden;
    background: #e9ecef;
    aspect-ratio: 1;
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
    transition: all 0.3s ease;
  }

  .college-gallery-item:hover {
    box-shadow: 0 6px 16px rgba(255, 152, 0, 0.15);
    transform: translateY(-4px);
  }

  .college-gallery-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .college-gallery-placeholder {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 100%;
    color: #999;
  }

  /* Videos Section */
  .college-videos-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 20px;
  }

  .college-video-card {
    background: white;
    border-radius: 8px;
    overflow: hidden;
    border: 1px solid #e9ecef;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
    transition: all 0.3s ease;
  }

  .college-video-card:hover {
    box-shadow: 0 6px 16px rgba(255, 152, 0, 0.15);
    transform: translateY(-4px);
  }

  .college-video-thumbnail {
    position: relative;
    width: 100%;
    background: #000;
    aspect-ratio: 16 / 9;
  }

  .college-video-thumbnail iframe {
    width: 100%;
    height: 100%;
    border: none;
  }

  .college-video-title {
    padding: 16px;
    font-size: 15px;
    font-weight: 600;
    color: #333;
  }

  /* Chairman Message Section */
  .college-chairman-card {
    background: white;
    border-radius: 8px;
    border-left: 5px solid #ff9800;
    padding: 24px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  }

  .college-chairman-message {
    color: #555;
    line-height: 1.8;
    font-size: 15px;
    margin-bottom: 20px;
  }

  .college-chairman-message p {
    margin-bottom: 16px;
  }

  .college-chairman-message p:last-child {
    margin-bottom: 0;
  }

  .college-chairman-signature {
    text-align: right;
    font-weight: 600;
    color: #333;
    font-style: italic;
  }

  /* Responsive Design */
  @media (max-width: 991.98px) {
    .college-details-wrapper {
      padding-top: 15px;
    }

    .college-main-content {
      padding: 20px;
    }

    .college-sidebar-nav {
      margin-bottom: 30px;
    }

    .college-sidebar-nav.sticky-top {
      position: relative;
      top: auto;
    }

    .college-contact-sidebar {
      margin-top: 30px;
    }

    .college-contact-sidebar.sticky-top {
      position: relative;
      top: auto;
    }

    .college-courses-grid {
      grid-template-columns: 1fr;
    }

    .college-section-title {
      font-size: 20px;
    }
  }

  @media (max-width: 767.98px) {
    .college-main-content {
      padding: 16px;
    }

    .college-section {
      margin-bottom: 30px;
    }

    .college-admission-notice {
      flex-direction: column;
      align-items: flex-start;
      gap: 15px;
    }

    .college-admission-icon {
      font-size: 28px;
    }

    .college-section-title {
      font-size: 18px;
    }

    .college-contact-title {
      font-size: 16px;
    }

    .college-course-card-content {
      padding: 16px;
    }

    .college-course-title {
      font-size: 15px;
    }

    .college-gallery-grid {
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    }

    .college-videos-grid {
      grid-template-columns: 1fr;
    }

    .college-location-map iframe {
      height: 300px;
    }
  }
</style>

<div class="college-profile">
  <!-- Cover Image Section -->
  <div class="college-cover-section" <% if (collegeData.collegeCover) { %>style="background-image: url('/colleges/<%= typeof collegeData.collegeCover === 'string' ? collegeData.collegeCover : collegeData.collegeCover.filename || collegeData.collegeCover.key || collegeData.collegeCover %>'); background-size: cover; background-position: center;"<% } %>>
    <% if (collegeData.collegeLogo) { %>
    <div class="college-cover-placeholder" <% if (collegeData.collegeCover) { %>style="background: rgba(0,0,0,0.3);"<% } %>>
      <div class="college-logo-circle">
        <img
          src="/colleges/<%=
            typeof collegeData.collegeLogo === 'string'
              ? collegeData.collegeLogo
              : collegeData.collegeLogo.filename ||
                collegeData.collegeLogo.key ||
                collegeData.collegeLogo
          %>"
          alt="<%= collegeData.collegeName %> logo"
          class="college-logo-image"
        />
      </div>
      <div class="college-info-header">
        <div class="college-name-row">
          <h1 class="college-profile-name"><%= collegeData.collegeName %></h1>
          <i class="fa-solid fa-circle-check verified-badge"></i>
        </div>
        <div class="college-details-row">
          <div class="detail-item">
            <i class="fa-solid fa-map-marker-alt detail-icon"></i>
            <span class="detail-text"><%= collegeData.collegeAddress %></span>
          </div>
          <div class="detail-item">
            <i class="fa-solid fa-building-columns detail-icon"></i>
            <span class="detail-text"><%= collegeData.universityName || 'Affiliated University' %></span>
          </div>
          <% if (collegeData.establishedYear) { %>
          <div class="detail-item">
            <i class="fa-solid fa-calendar detail-icon"></i>
            <span class="detail-text">Established <%= collegeData.establishedYear %></span>
          </div>
          <% } %>
        </div>
      </div>
    </div>
    <% } else { %>
    <div class="college-cover-placeholder" <% if (collegeData.collegeCover) { %>style="background: rgba(0,0,0,0.3);"<% } %>>
      <div class="college-logo-circle college-logo-placeholder">
        <i class="fa-solid fa-building-columns college-placeholder-icon"></i>
      </div>
      <div class="college-info-header">
        <div class="college-name-row">
          <h1 class="college-profile-name"><%= collegeData.collegeName %></h1>
          <i class="fa-solid fa-circle-check verified-badge"></i>
        </div>
        <div class="college-details-row">
          <div class="detail-item">
            <i class="fa-solid fa-map-marker-alt detail-icon"></i>
            <span class="detail-text"><%= collegeData.collegeAddress %></span>
          </div>
          <div class="detail-item">
            <i class="fa-solid fa-building-columns detail-icon"></i>
            <span class="detail-text"><%= collegeData.universityName || 'Affiliated University' %></span>
          </div>
          <% if (collegeData.establishedYear) { %>
          <div class="detail-item">
            <i class="fa-solid fa-calendar detail-icon"></i>
            <span class="detail-text">Established <%= collegeData.establishedYear %></span>
          </div>
          <% } %>
        </div>
      </div>
    </div>
    <% } %>
  </div>

  <!-- 3-Column Layout Section -->
  <div class="college-details-wrapper">
    <div class="container-fluid">
      <div class="row g-4">
        <!-- Left Sidebar (2 cols) -->
        <div class="col-md-2 d-none d-md-block">
          <nav class="college-sidebar-nav sticky-top">
            <ul class="college-nav-list">
              <li class="college-nav-item">
                <a href="#about" class="college-nav-link" onclick="setActiveNav(event)">
                  <i class="fa-solid fa-circle-info"></i> About
                </a>
              </li>
              <li class="college-nav-item">
                <a href="#admissions" class="college-nav-link" onclick="setActiveNav(event)">
                  <i class="fa-solid fa-graduation-cap"></i> Admissions
                </a>
              </li>
              <li class="college-nav-item">
                <a href="#programs" class="college-nav-link" onclick="setActiveNav(event)">
                  <i class="fa-solid fa-book"></i> Programs <span class="nav-badge"><%= courses && courses.length > 0 ? courses.length : 0 %></span>
                </a>
              </li>
              <li class="college-nav-item">
                <a href="#features" class="college-nav-link" onclick="setActiveNav(event)">
                  <i class="fa-solid fa-star"></i> Features
                </a>
              </li>
              <li class="college-nav-item">
                <a href="#guidelines" class="college-nav-link" onclick="setActiveNav(event)">
                  <i class="fa-solid fa-file-alt"></i> Guidelines
                </a>
              </li>
              <li class="college-nav-item">
                <a href="#scholarship" class="college-nav-link" onclick="setActiveNav(event)">
                  <i class="fa-solid fa-money-bill"></i> Scholarship
                </a>
              </li>
              <li class="college-nav-item">
                <a href="#gallery" class="college-nav-link" onclick="setActiveNav(event)">
                  <i class="fa-solid fa-images"></i> Gallery
                </a>
              </li>
              <li class="college-nav-item">
                <a href="#chairman" class="college-nav-link" onclick="setActiveNav(event)">
                  <i class="fa-solid fa-user-tie"></i> Chairman
                </a>
              </li>
            </ul>
          </nav>
        </div>

        <!-- Main Content (7 cols) -->
        <div class="col-md-7">
          <div class="college-main-content">
            <!-- Admission Notice Bar -->
            <% if (collegeData.admissionNotice) { %>
            <div class="college-admission-notice" id="admissions">
              <i class="fa-solid fa-graduation-cap college-admission-icon"></i>
              <div class="college-admission-text-section">
                <span class="college-admission-text"><%= collegeData.admissionNotice %></span>
                <% if (collegeData.admissionCloseDate) { %>
                <span class="college-admission-deadline">
                  <i class="fa-solid fa-clock"></i>
                  Closes: <%= new Date(collegeData.admissionCloseDate).toLocaleDateString('en-US', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                  }) %>
                </span>
                <% } %>
              </div>
              <a href="/contact" class="college-btn-apply">Apply Now</a>
            </div>
            <% } %>

            <!-- About Section -->
            <% if (collegeData.overview) { %>
            <div class="college-section" id="about">
              <div class="college-section-header">
                <h2 class="college-section-title">About</h2>
              </div>
              <div class="college-overview-content">
                <%- collegeData.overview %>
              </div>
            </div>
            <% } %>

            <!-- Offered Programs Section -->
            <% if (courses && courses.length > 0) { %>
            <div class="college-section" id="programs">
              <div class="college-section-header">
                <h2 class="college-section-title">Offered Programs</h2>
              </div>
              <div class="college-courses-grid">
                <% courses.forEach(course => { %>
                <a href="/course/<%= course._id %>" class="college-course-card">
                  <div class="college-course-card-content">
                    <h3 class="college-course-title"><%= course.fullForm ? course.fullForm : course.title %></h3>
                    <div class="college-course-detail">
                      <i class="fa-solid fa-building-columns"></i>
                      <span><%= course.universityName || 'University Affiliation' %></span>
                    </div>
                    <div class="college-course-detail">
                      <i class="fa-solid fa-clock"></i>
                      <span><%= course.duration || 'Duration' %></span>
                    </div>
                  </div>
                  <div class="college-course-card-footer">
                    <div class="college-course-action">
                      <span>Learn More</span>
                      <i class="fa-solid fa-arrow-right"></i>
                    </div>
                  </div>
                </a>
                <% }); %>
              </div>
            </div>
            <% } %>

            <!-- Salient Features Section -->
            <div class="college-section" id="features">
              <div class="college-section-header">
                <h2 class="college-section-title">Salient Features</h2>
              </div>
              <div style="color: #555; line-height: 1.8; font-size: 15px;">
                <% if (collegeData.keyFeatures && collegeData.keyFeatures.length > 0) { %>
                  <ul style="padding-left: 20px;">
                    <% collegeData.keyFeatures.forEach(feature => { %>
                    <li style="margin-bottom: 12px;">
                      <i class="fa-solid fa-check" style="color: #ff9800; margin-right: 8px;"></i>
                      <%= feature %>
                    </li>
                    <% }); %>
                  </ul>
                <% } else { %>
                  <p>Information about salient features will be updated soon.</p>
                <% } %>
              </div>
            </div>

            <!-- Admission Guidelines Section -->
            <% if (collegeData.admissionGuidelines) { %>
            <div class="college-section" id="guidelines">
              <div class="college-section-header">
                <h2 class="college-section-title">Admission Guidelines</h2>
              </div>
              <div class="college-overview-content">
                <%- collegeData.admissionGuidelines %>
              </div>
            </div>
            <% } %>

            <!-- Scholarship Information Section -->
            <% if (collegeData.scholarshipInfo) { %>
            <div class="college-section" id="scholarship">
              <div class="college-section-header">
                <h2 class="college-section-title">Scholarship Information</h2>
              </div>
              <div class="college-overview-content">
                <%- collegeData.scholarshipInfo %>
              </div>
            </div>
            <% } %>

            <!-- Gallery Section -->
            <% if (collegeData.gallery && collegeData.gallery.length > 0) { %>
            <div class="college-section" id="gallery">
              <div class="college-section-header">
                <h2 class="college-section-title">Gallery</h2>
              </div>
              <div class="college-gallery-grid">
                <% collegeData.gallery.forEach(image => { %>
                <div class="college-gallery-item">
                  <img src="/colleges/<%= image %>" alt="College Gallery" loading="lazy">
                </div>
                <% }); %>
              </div>
            </div>
            <% } %>
          </div>
        </div>

        <!-- Right Sidebar - Contact Info (3 cols) -->
        <div class="col-md-3">
          <!-- Contact Info Card -->
          <div class="college-contact-sidebar">
            <h3 class="college-contact-title">Contact Info</h3>
            
            <% if (collegeData.universityName) { %>
            <div class="college-contact-item">
              <div class="college-contact-icon">
                <i class="fa-solid fa-building-columns"></i>
              </div>
              <div class="college-contact-content">
                <div class="college-contact-label">University</div>
                <div class="college-contact-value"><%= collegeData.universityName %></div>
              </div>
            </div>
            <% } %>

            <% if (collegeData.collegeAddress) { %>
            <div class="college-contact-item">
              <div class="college-contact-icon">
                <i class="fa-solid fa-map-marker-alt"></i>
              </div>
              <div class="college-contact-content">
                <div class="college-contact-label">Address</div>
                <div class="college-contact-value"><%= collegeData.collegeAddress %></div>
              </div>
            </div>
            <% } %>

            <% if (collegeData.collegePhone) { %>
            <div class="college-contact-item">
              <div class="college-contact-icon">
                <i class="fa-solid fa-phone"></i>
              </div>
              <div class="college-contact-content">
                <div class="college-contact-label">Phone</div>
                <div class="college-contact-value"><a href="tel:<%= collegeData.collegePhone %>"><%= collegeData.collegePhone %></a></div>
              </div>
            </div>
            <% } %>

            <% if (collegeData.collegeEmail) { %>
            <div class="college-contact-item">
              <div class="college-contact-icon">
                <i class="fa-solid fa-envelope"></i>
              </div>
              <div class="college-contact-content">
                <div class="college-contact-label">Email</div>
                <div class="college-contact-value"><a href="mailto:<%= collegeData.collegeEmail %>"><%= collegeData.collegeEmail %></a></div>
              </div>
            </div>
            <% } %>

            <% if (collegeData.website) { %>
            <div class="college-contact-item">
              <div class="college-contact-icon">
                <i class="fa-solid fa-globe"></i>
              </div>
              <div class="college-contact-content">
                <div class="college-contact-label">Website</div>
                <div class="college-contact-value"><a href="<%= collegeData.website %>" target="_blank" rel="noopener noreferrer"><%= collegeData.website %></a></div>
              </div>
            </div>
            <% } %>
          </div>

          <!-- Chairman Preview Card -->
          <% if (collegeData.chairmanName || collegeData.chairmanMessage || collegeData.chairmanImage) { %>
          <div class="college-chairman-preview">
            <div class="college-chairman-preview-title">Chairman</div>
            <% if (collegeData.chairmanImage) { %>
            <div class="college-chairman-image-container">
              <img src="/colleges/<%= collegeData.chairmanImage %>" alt="<%= collegeData.chairmanName %>" class="college-chairman-image" loading="lazy">
            </div>
            <% } %>
            <% if (collegeData.chairmanName) { %>
            <div class="college-chairman-preview-name"><%= collegeData.chairmanName %></div>
            <% } %>
            <% if (collegeData.chairmanMessage) { %>
            <div class="college-chairman-preview-message">
              <%- collegeData.chairmanMessage %>
            </div>
            <% } %>
          </div>
          <% } %>

          <!-- Location Map -->
          <% if (collegeData.googleMapUrl) { %>
          <div class="college-location-map" style="margin-top: 20px;">
            <iframe src="<%= collegeData.googleMapUrl %>" allowfullscreen="" loading="lazy"></iframe>
          </div>
          <% } %>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // Smooth scrolling and active nav link highlighting
  function setActiveNav(event) {
    event.preventDefault();
    
    // Remove active class from all links
    document.querySelectorAll('.college-nav-link').forEach(link => {
      link.classList.remove('active');
    });
    
    // Add active class to clicked link
    event.target.closest('.college-nav-link').classList.add('active');
    
    // Smooth scroll to target
    const href = event.target.closest('.college-nav-link').getAttribute('href');
    const target = document.querySelector(href);
    if (target) {
      target.scrollIntoView({ behavior: 'smooth' });
    }
  }

  // Set active nav on scroll
  window.addEventListener('scroll', () => {
    const sections = document.querySelectorAll('.college-section');
    const navLinks = document.querySelectorAll('.college-nav-link');
    
    let currentSection = '';
    sections.forEach(section => {
      const sectionTop = section.offsetTop - 150;
      if (window.scrollY >= sectionTop) {
        currentSection = section.getAttribute('id');
      }
    });
    
    navLinks.forEach(link => {
      link.classList.remove('active');
      if (link.getAttribute('href') === '#' + currentSection) {
        link.classList.add('active');
      }
    });
  });

  // Set initial active link on page load
  document.addEventListener('DOMContentLoaded', () => {
    const firstLink = document.querySelector('.college-nav-link');
    if (firstLink) {
      firstLink.classList.add('active');
    }
  });
</script>

<%- include('base/footer') -%>
