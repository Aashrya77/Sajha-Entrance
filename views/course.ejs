<%- include('base/header') -%>
<div class="course">
  <div class="container">
    <div class="row" style="padding-top: 4.5rem">
      <div class="col-12">
        <div class="px-2 px-lg-0">
          <!-- Course Header Section -->
          <div class="course-header-section">
            <% if (advertisement) { %>
            <a href="<%= advertisement.advertisementLink %>">
              <div class="advertisement-div mb-4">
                <img
                  src="/advertisements/<%= advertisement.advertisementFile %>"
                  alt="advertisement-image"
                  class="advertisement-image"
                />
              </div>
            </a>
            <% } %>

            <div class="course-title-header">
              <div class="course-main-title">
                <h1><%= courseData.title %></h1>
              </div>
            </div>

            <!-- Tab Navigation -->
            <div class="course-tabs">
              <div class="tab-buttons">
                <button class="tab-btn active" data-tab="about">About</button>
                <button class="tab-btn" data-tab="eligibility">Eligibility</button>
                <button class="tab-btn" data-tab="curriculum">Curricular Structure</button>
                <button class="tab-btn" data-tab="jobs">Job Prospects</button>
              </div>
            </div>
          </div>

          <!-- Tab Content Sections -->
          <div class="tab-content">
            <!-- About Tab -->
            <div id="about" class="tab-pane active">
              <div class="tab-content-inner">
                <%- formatContent(courseData.aboutTab) %>
              </div>
            </div>

            <!-- Eligibility Tab -->
            <div id="eligibility" class="tab-pane">
              <div class="tab-content-inner">
                <%- formatContent(courseData.eligibilityTab) %>
              </div>
            </div>

            <!-- Curricular Structure Tab -->
            <div id="curriculum" class="tab-pane">
              <div class="tab-content-inner">
                <%- formatContent(courseData.curricularStructureTab) %>
              </div>
            </div>

            <!-- Job Prospects Tab -->
            <div id="jobs" class="tab-pane">
              <div class="tab-content-inner">
                <%- formatContent(courseData.jobProspectsTab) %>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-12 col-lg-4">
        <div class="course-sidebar">
          <div class="sidebar-section">
            <div class="text-center pb-4 mt-4">
              <a href="/courses" class="btn btn-primary btn-lg">View More Courses</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <%- include('base/footer') -%>
</div>

<script>
  // Tab functionality
  document.addEventListener('DOMContentLoaded', function() {
    const tabButtons = document.querySelectorAll('.tab-btn');
    const tabPanes = document.querySelectorAll('.tab-pane');

    tabButtons.forEach(button => {
      button.addEventListener('click', () => {
        // Remove active class from all buttons and panes
        tabButtons.forEach(btn => btn.classList.remove('active'));
        tabPanes.forEach(pane => pane.classList.remove('active'));

        // Add active class to clicked button and corresponding pane
        button.classList.add('active');
        const tabId = button.getAttribute('data-tab');
        document.getElementById(tabId).classList.add('active');
      });
    });
  });
</script>